datasource db {
  provider          = "postgresql"
  url               = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl         = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
  shadowDatabaseUrl = env("POSTGRES_URL_NON_POOLING") // used for migrations
}

generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

model User {
  id   String @id @default(cuid())
  name String
}

model idmap {
  id   String @id @default(cuid())
  text String
}

model working_table {
  id      Int       @id @default(autoincrement())
  name   String    @db.VarChar(255)
  parent_id   String    @db.VarChar(255)
  status  Int
  history history[]
}

model history {
  id              Int       @id @default(autoincrement())
  add_request_id  Int
  job_destination String    @db.VarChar(255)
  date            DateTime?

  working_table working_table @relation(fields: [add_request_id], references: [id])
}
