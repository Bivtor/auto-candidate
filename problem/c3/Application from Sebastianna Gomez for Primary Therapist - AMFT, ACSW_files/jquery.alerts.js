// is copyright 2008 A Beautiful Site, LLC.
!function(n){var s={};n.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,_overrides:{},alert:function(p,e,o,t,i){s=i||{},null==e&&(e="Alert"),n.alerts._show(e,p,null,"alert",function(p){o&&o(p)},t)},confirm:function(p,e,o,t,i){s=i||{},null==e&&(e="Confirm"),n.alerts._show(e,p,null,"confirm",function(p){o&&o(p)},t)},prompt:function(p,e,o,t,i,a){s=a||{},null==o&&(o="Prompt"),n.alerts._show(o,p,e,"prompt",function(p){t&&t(p)},i)},_show:function(p,e,o,t,i,a){n.alerts._hide(),n.alerts._overlay("show"),n("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),(s.dialogClass||n.alerts.dialogClass)&&n("#popup_container").addClass(s.dialogClass||n.alerts.dialogClass);switch(n("#popup_container").css({position:"fixed",zIndex:99999,padding:0,margin:0}),n("#popup_title").text(p),n("#popup_content").addClass(t),n("#popup_message").text(e),n("#popup_message").html(n("#popup_message").text().replace(/\n/g,"<br />")),n("#popup_container").css({minWidth:n("#popup_container").outerWidth(),maxWidth:n("#popup_container").outerWidth()}),n.alerts._reposition(),n.alerts._maintainPosition(!0),t){case"alert":n("#popup_message").after('<div id="popup_panel"><input type="button" value="'+(s.okButton||n.alerts.okButton)+'" id="popup_ok" class="btn"/></div>'),a&&(n("#popup_panel").after('<div id="popup_submessage"></div>'),n("#popup_submessage").text(a),n("#popup_submessage").html(n("#popup_submessage").text().replace(/\n/g,"<br />"))),n("#popup_ok").click(function(){n.alerts._hide(),i(!0)}),n("#popup_ok").focus().on("keypress",function(p){13!=p.keyCode&&27!=p.keyCode||n("#popup_ok").trigger("click")});break;case"confirm":n("#popup_message").after('<div id="popup_panel"><input type="button" value="'+(s.okButton||n.alerts.okButton)+'" id="popup_ok" class="btn"/> <input type="button" value="'+(s.cancelButton||n.alerts.cancelButton)+'" id="popup_cancel" class="btn"/></div>'),a&&(n("#popup_panel").after('<div id="popup_submessage"></div>'),n("#popup_submessage").text(a),n("#popup_submessage").html(n("#popup_submessage").text().replace(/\n/g,"<br />"))),n("#popup_ok").click(function(){n.alerts._hide(),i&&i(!0)}),n("#popup_cancel").click(function(){n.alerts._hide(),i&&i(!1)}),n("#popup_ok").focus(),n("#popup_ok, #popup_cancel").on("keypress",function(p){13==p.keyCode&&n("#popup_ok").trigger("click"),27==p.keyCode&&n("#popup_cancel").trigger("click")});break;case"prompt":n("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+n.alerts.okButton+'" id="popup_ok" class="btn"/> <input type="button" value="'+n.alerts.cancelButton+'" id="popup_cancel" class="btn"/></div>'),n("#popup_prompt").width(n("#popup_message").width()),a&&(n("#popup_panel").after('<div id="popup_submessage"></div>'),n("#popup_submessage").text(a),n("#popup_submessage").html(n("#popup_submessage").text().replace(/\n/g,"<br />"))),n("#popup_ok").click(function(){var p=n("#popup_prompt").val();n.alerts._hide(),i&&i(p)}),n("#popup_cancel").click(function(){n.alerts._hide(),i&&i(null)}),n("#popup_prompt, #popup_ok, #popup_cancel").on("keypress",function(p){13==p.keyCode&&n("#popup_ok").trigger("click"),27==p.keyCode&&n("#popup_cancel").trigger("click")}),o&&n("#popup_prompt").val(o),n("#popup_prompt").focus().select()}if(s.draggable||n.alerts.draggable)try{n("#popup_container").draggable({handle:n("#popup_title")}),n("#popup_title").css({cursor:"move"})}catch(p){}},_hide:function(){n("#popup_container").remove(),n.alerts._overlay("hide"),n.alerts._maintainPosition(!1)},_overlay:function(p){switch(p){case"show":n.alerts._overlay("hide"),n("BODY").append('<div id="popup_overlay"></div>'),n("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:n(document).height(),background:s.overlayColor||n.alerts.overlayColor,opacity:s.overlayOpacity||n.alerts.overlayOpacity});break;case"hide":n("#popup_overlay").remove()}},_reposition:function(){var p=n(window).height()/2-n("#popup_container").outerHeight(!0)/2+(s.verticalOffset||n.alerts.verticalOffset),e=n(window).width()/2-n("#popup_container").outerWidth(!0)/2+(s.horizontalOffset||n.alerts.horizontalOffset);p<0&&(p=0),e<0&&(e=0),n("#popup_container").css({top:p+"px",left:e+"px"}),n("#popup_overlay").height(n(document).height())},_maintainPosition:function(p){if(s.repositionOnResize||n.alerts.repositionOnResize)switch(p){case!0:n(window).bind("resize",n.alerts._reposition);break;case!1:n(window).unbind("resize",n.alerts._reposition)}}},jAlert=function(p,e,o,t,i){n.alerts.alert(p,e,o,t,i)},jConfirm=function(p,e,o,t,i){n.alerts.confirm(p,e,o,t,i)},jPrompt=function(p,e,o,t,i,a){n.alerts.prompt(p,e,o,t,i,a)}}(jQuery);