!function(a){"use strict";a.fn.extend({labelsAutocomplete:function(e){var t={minLength:3,delay:1e3,source:function(e,t){e=a.extend({label_name:e.term},n.additionalParams);return a.ajax({url:"/label/search",dataType:"json",method:"POST",data:e}).then(function(e){e.data.length?t(e.data):t()}),!1},itemTemplate:function(e){e=e||{};return['<button class="tag_item">'+a.escape(e.label)+"</button>"].join("")},renderItem:function(e,t){return a("<li>").data("ui-autocomplete-item",t).append(n.itemTemplate(t)).appendTo(e)},open:function(){a(this).autocomplete("widget").css({width:a(this).outerWidth()+"px"})},focus:function(e){e.preventDefault()},search:function(e){new RegExp(",").test(a(this).val())&&e.preventDefault()}},n=a.extend(t,e);return this.each(function(){a(this).autocomplete(n).data("ui-autocomplete")._renderItem=n.renderItem})}})}(window.jQuery);