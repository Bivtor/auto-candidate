!function(w){"use strict";function o(t,e){var o=this;this.$el=t,this.tooltip=!1,t.data(b,this);var i,a,s={};for(i in v)v.hasOwnProperty(i)&&(a=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),void 0!==(a=t.data(a))&&(s[i]=a));var l,n=w.extend({},v,s,e);if("tooltip"===(f=(this.options=n).callout||t.data("callout"))){(l=n.tooltipTarget?w(n.tooltipTarget).first():w('<span class="zrCallout-tooltip"></span>').text(t.attr("title")||t.attr("data-title"))).css("visibility","hidden");e="zrCallout-"+ ++m;l.attr({id:e,role:"tooltip"}),n.tooltipIsLabel?t.attr("aria-labelledby",e):t.attr("aria-describedby",e),t.attr("title","").attr("data-title",""),n.addClose=!1,this.tooltip=!0,l.appendTo(document.body),new MutationObserver(function(){(t.attr("title").length||t.attr("data-title").length)&&(l.text(t.attr("title")||t.attr("data-title")),l.append(l.data(b+"-arrow")),t.attr("title","").attr("data-title",""))}).observe(t.get(0),{attributes:!0,attributeFilter:["title","data-title"]})}else{l=w(f).attr("tabIndex",-1).on("keyup",function(t){27===t.keyCode&&o.hide()}),n.hoverable&&(l=w(f).attr("data-hoverable","true"));for(var r,d=l.data(b+"-callouts")||[],c=0,h=d.length;c<h;c++)(r=d[c]).hide(),r.popper.destroy(),r.$el.data(b,null),delete d[c];(d=[]).push(this),l.data(b+"-callouts",d);var p=l.data(b+"-close")||w('<button class="close" data-close="callout">'+n.closeText+"</button>");l.data(b+"-close",p),l.append(p),n.addClose||p.addClass("visually-hidden"),n.backdrop&&(l.attr({role:"dialogue"}).appendTo(document.body).css({zIndex:1010}),this.$backdrop=w("<div/>").addClass(b+"-backdrop").css({position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1009}).hide().appendTo(document.body).on("click",function(){o.hide()}),w("<span/>").text("Focus dialogue...").addClass(b+"-bounce").appendTo(l).attr({tabindex:0}).css({height:"1px",width:"1px",opacity:0,position:"absolute"}).on("focus",function(){l.focus()}))}this.$callout=l;var u=y||15,f={placement:n.placement,positionFixed:!0,eventsEnabled:!0,modifiers:{preventOverflow:{enabled:!0,boundariesElement:"window",padding:u,fn:function(t,e){var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return(t=Popper.Defaults.modifiers.preventOverflow.fn(t,e)).offsets.popper.left+t.offsets.popper.width>o+u&&(t.offsets.popper.left=o-t.offsets.popper.width-u),t}},keepTogether:{enabled:!0}}};n.addArrow&&(p=l.data(b+"-arrow")||w('<span class="arrow"></span>'),l.data(b+"-arrow",p),l.append(p),f.modifiers.arrow={element:p[0]});var g,f=new Popper(t[0],l[0],f);this.popper=f,n.show&&this.show(),t.on("click",function(){setTimeout(function(){o.popper.update()},0)}),this.tooltip||(l.on("click",'[data-close="callout"]',function(t){t.preventDefault(),o.hide(!0)}),n.trigger&&t.on(n.trigger,function(){o.showing?n.toggle?o.hide():(l.removeClass("toggle-try"),clearTimeout(g),setTimeout(function(){l.addClass("toggle-try"),g=setTimeout(function(){l.removeClass("toggle-try")},1e3)},0)):o.show()}),n.closeOnClick&&l.on("click",function(t){w(t.target).is("a, button")||o.hide()}))}var a,v={addClose:!0,closeText:"Close",closeOnClick:!1,addArrow:!0,placement:"bottom",show:!1,trigger:"click",toggle:!0,animation:!1,backdrop:!1,tooltipTarget:null,hoverable:!1,tooltipIsLabel:!1,callout:null},b="callout-object",m=Date.now();o.prototype.show=function(){var t,e=this.$callout,o=this,i=e.data(b+"-callouts");for(t in i)i.hasOwnProperty(t)&&o!==i[t]&&i[t].hide();this.showing=!0,this.$el.addClass("showing"),this.tooltip?(a&&o!==a&&a.hide(),a=this,e.addClass("showing"),setTimeout(function(){o.popper.update(),e.css("visibility","")},0)):(this.$backdrop&&(this.$backdrop.show(),w(document).off("focusin").on("focusin",function(t){document!==t.target&&o.$callout[0]!==t.target&&o.$el[0]!==t.target&&0===o.$callout.has(t.target).length&&(o.$el.focus(),o.$callout.focus())})),e.show(),this.options.hoverable||e.focus(),this.popper.update(),this.options.animation&&(e.addClass("toggle-showing-start"),setTimeout(function(){e.addClass("toggle-showing").removeClass("toggle-showing-start"),setTimeout(function(){e.removeClass("toggle-showing")},1e3)},0))),this.$el.trigger("show.zr.callout")},o.prototype.hide=function(t,e){this.showing&&(this.showing=!1,this.$el.removeClass("showing"),this.tooltip?(this.$callout.removeClass("showing"),a=null):(this.$callout.hide(),this.$backdrop&&(w(document).off("focusin"),this.$backdrop.hide(),e||this.$el.focus())),this.$el.trigger("hide.zr.callout",{closeButton:t}))},o.prototype.toggle=function(){this.showing?this.hide(void 0,!0):this.show()};function i(t,e){return t.data(b)||new o(t,e)}w.fn.zrCallout=function(t,e){return"string"==typeof t?"show"===t?this.each(function(){i(w(this),{show:!0}).show()}):"hide"===t?this.each(function(){i(w(this)).hide(void 0,!e)}):"toggle"===t&&this.each(function(){i(w(this)).toggle()}):this.each(function(){i(w(this),t)}),this};var y=function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var o=document.createElement("div");return o.style.width="100%",t.appendChild(o),o=o.offsetWidth,t.parentNode.removeChild(t),e-o}()}(window.Zepto||window.jQuery||window.$);