!function(d,u){window.zr=window.zr||{},window.zr.resourcePoller=function(e){var l,t=e.elapsed,n=e.max_elapsed,a=e.delay,i=e.attempts;return t!==u&&null!=t||(t=0),n!==u&&null!=n||(n=25e3),a!==u&&null!=a||(a=3e3),i!==u&&null!=i||(i=0),l={statusUri:e.statusUri,elapsed:t,max_elapsed:n,delay:a,attempts:i,_polling:!1,start:function(e,t,n){if(null==e)throw"successCallback muse be provided";l._polling=!0,null==t&&(t=function(){}),function a(i,u,o,s){null==s&&(s=function(e,t){return t.data.retry&&!e.hasTimedOut()}),0<i.attempts&&(i.delay+=2e3),i.attempts++;var e={attempt:i.attempts},r=(new Date).getTime();d.ajax({url:i.statusUri,dataType:"json",data:e,timeout:15e3,success:function(e,t,n){if(0!=i._polling)if(i.elapsed+=(new Date).getTime()-r,e){var l=!0;try{l=s(i,e)}catch(e){return void o(i,n,t,e)}l?setTimeout(function(){a(i,u,o,s)},i.delay):(i._polling=!1,u(i,e,t,n))}else e?i.hasTimedOut()?o(i,n,t,"timed-out"):o(i,n,t,"unknown"):o(i,n,t,"no-json")},error:function(e,t,n){0!=i._polling&&(i._polling=!1,i.elapsed+=(new Date).getTime()-r,o(i,e,t,n))}})}(l,e,t,n)},cancel:function(){l._polling=!1},hasTimedOut:function(){return l.max_elapsed<l.elapsed}}}}(window.jQuery);